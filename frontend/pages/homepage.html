<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>

	<style>
		.font {
			font-family: "Montserrat", sans-serif;
			/* font-family: proxima-nova, sans-serif;
            font-style: normal;
            font-weight: 100; */
			}

		#spectrum-background {
			background: linear-gradient(to top left, rgb(24, 247, 255), transparent),
				linear-gradient(to top right, rgb(255, 17, 100), transparent);
			background-blend-mode: screen;
		}

		#card-spectrum-background-1 {
			background: linear-gradient(to top left, rgb(134, 11, 222), transparent),
				linear-gradient(to top right, rgb(135, 64, 173), transparent);
			background-blend-mode: screen;
		}

		#card-spectrum-background-2 {
			background: linear-gradient(to top left, rgb(0, 78, 214), transparent),
				linear-gradient(to top right, rgb(101, 160, 228), transparent);
			background-blend-mode: screen;
		}

		.no-scrollbar::-webkit-scrollbar {
			display: none;
		}

		.no-scrollbar {
			-ms-overflow-style: none;
			/* IE and Edge */
			scrollbar-width: none;
			/* Firefox */
		}
	</style>

	<!-- Vue2 -->
	<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
	<!-- Axios -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<!-- Flowbite -->
	<link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" />
	<!-- Tailwind CSS -->
	<script src="https://cdn.tailwindcss.com"></script>
	<!--iconify-->
	<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
	<!-- google font -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
</head>

<script></script>

<body>
	<div id="main-container" class="font">
		<!-- BALANCE -->
		<div id="spectrum-background" class="text-center pt-6 pb-12 relative mb-16">
			<h4 class="text-2xl font-normal text-black mb-2">Your Balance</h4>
			<h1 class="text-4xl font-bold text-black mb-4">S${{userBalance}}</h1>

			
			<div class="flex justify-center items-center">
				<a class="absolute left-6 z-10 inline-flex items-center text-base font-semibold text-gray-900"
					href="cryptoHomepage.html">
					<iconify-icon icon="ep:arrow-left-bold" width="25" height="25"></iconify-icon>
				</a>

				<img style="height: 160px" src="../images/Vector.png" class="absolute z-10 top-16 right-10"/>
				<img src = "../images/card1.png" class = "absolute z-20 relative mb-4" style = "width: 270px; height: 160px">
				
				<a class="absolute right-6 z-10 inline-flex items-center text-base font-semibold text-gray-900"
					href="cryptoHomepage.html">
					<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
				</a>
			</div>
			


			<div class="rounded-[30px] absolute m-auto left-0 right-0 max-w-sm p-4 bg-black drop-shadow-lg">
				<div class="flex space-x-8">
					<a type="button" href="topuppage.html"
						class="ml-6 text-white bg-slate-200 hover:bg-slate-400 focus:ring-4 focus:outline-none focus:ring-slate-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center">
						<iconify-icon icon="mdi:wallet-plus-outline" class="text-black" width="32" height="28">
						</iconify-icon>
					</a>

					<a type="button" href="#"
						class="text-white bg-slate-200 hover:bg-slate-400 focus:ring-4 focus:outline-none focus:ring-slate-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center">
						<iconify-icon icon="tabler:transfer" class="text-black" width="32" height="28"></iconify-icon>
					</a>

					<a type="button" href="#"
						class="text-white bg-slate-200 hover:bg-slate-400 focus:ring-4 focus:outline-none focus:ring-slate-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center">
						<iconify-icon icon="ion:scan" class="text-black" width="32" height="28"></iconify-icon>
					</a>

					<a type="button" href="sendMoney.html"
						class="text-white bg-slate-200 hover:bg-slate-400 focus:ring-4 focus:outline-none focus:ring-slate-300 font-medium rounded-full text-sm p-2.5 text-center inline-flex items-center">
						<iconify-icon icon="solar:hand-money-outline" class="text-black" width="32" height="28">
						</iconify-icon>
					</a>
				</div>

				<div class="flex space-x-5 text-white mt-2 text-sm">
					<div class="ml-6">Top-up</div>
					<div>Withdraw</div>
					<div>Scan to pay</div>
					<div>Send</div>
				</div>
			</div>
		</div>

		<!-- MIDDLE PORTION -->
		<div class="flex justify-center items-center">
			<div class="w-full max-w-md bg-white sm:p-8">
				<div class="flow-root">
					<ul role="list" class="divide-y divide-gray-200 ml-5 mr-2">
						<li class="py-3 sm:py-4">
							<div class="flex items-center space-x-4">
								<div class="flex-shrink-0">
									<iconify-icon icon="codicon:account" width="28" height="28"></iconify-icon>
								</div>
								<div class="flex-1 min-w-0">
									<p class="ml-2 text-lg font-semibold text-gray-900 truncate">
										Account Settings
									</p>
								</div>
								<div class="inline-flex items-center text-base font-semibold text-gray-900">
									<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
								</div>
							</div>
						</li>
						<li class="py-3 sm:py-4">
							<div class="flex items-center space-x-4">
								<div class="flex-shrink-0">
									<iconify-icon icon="mdi:wallet-plus" width="28" height="28"></iconify-icon>
								</div>
								<div class="flex-1 min-w-0">
									<p class="ml-2 text-lg font-semibold text-gray-900 truncate">Auto Top-up</p>
								</div>
								<div class="inline-flex items-center text-base font-semibold text-gray-900">
									<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
								</div>
							</div>
						</li>
						<li class="py-3 sm:py-4">
							<div class="flex items-center space-x-4">
								<div class="flex-shrink-0">
									<iconify-icon icon="vaadin:piggy-bank-coin" width="30" height="35"></iconify-icon>
								</div>
								<div class="flex-1 min-w-0">
									<p class="ml-2 text-lg font-semibold text-gray-900 truncate">
										Spend & Balance Limits
									</p>
								</div>
								<div class="inline-flex items-center text-base font-semibold text-gray-900">
									<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<div class="mx-auto w-full md:w-4/5 px-4">
			<!-- RECOMMENDED -->
			<div class="container mb-4 mt-2">
				<div class="flex justify-between items-center mb-2">
					<h2 class="text-xl font-bold">Recommended for you</h2>
				</div>

				<div id="scrollContainer"
					class="no-scrollbar flex flex-no-wrap overflow-x-scroll scrolling-touch items-start">
					<div style="height: 150px" class="flex-none w-2/3 md:w-1/3 mr-8 border rounded-lg"
						id="card-spectrum-background-2">
						<a href="#" class="space-y-4 relative">
							<div class="px-4 py-2">
								<div class="text-lg leading-6 font-medium space-y-1">
									<h3 class="font-bold text-white text-md">Top up using PayNow VPA</h3>
								</div>
								<div class="absolute right-3">
									<img src="../images/mobile-iso-color.png" />
								</div>
							</div>
						</a>
					</div>

					<div style="height: 150px" class="flex-none w-2/3 md:w-1/3 mr-8 md:pb-4 border rounded-lg"
						id="card-spectrum-background-1">
						<a href="#" class="space-y-4 relative">
							<div class="px-4 py-2">
								<div class="text-lg leading-6 font-medium space-y-1">
									<h3 class="font-bold text-white text-lg">How we keep your wallet secure</h3>
								</div>
								<div class="flex absolute right-3 top-10">
									<img src="../images/key-iso-color.png" />
									<img src="../images/lock-iso-color.png" />
								</div>
							</div>
						</a>
					</div>
					<div style="height: 150px" class="flex-none w-2/3 md:w-1/3 mr-8 md:pb-4 border rounded-lg"
						id="card-spectrum-background-2">
						<a href="#" class="space-y-4 relative">
							<div class="px-4 py-2">
								<div class="text-lg leading-6 font-medium space-y-1">
									<h3 class="font-bold text-white text-lg">Link any bank account to top-up</h3>
								</div>
								<div class="absolute right-10 top-10">
									<img src="../images/card-iso-color.png" />
								</div>
							</div>
						</a>
					</div>
					<div style="height: 150px" class="flex-none w-2/3 md:w-1/3 mr-8 md:pb-4 border rounded-lg"
						id="card-spectrum-background-1">
						<a href="#" class="space-y-4 relative">
							<div class="px-4 py-2">
								<div class="text-lg leading-6 font-medium space-y-1">
									<h3 class="font-bold text-white text-lg mb-2">Transfer to any bank account</h3>
								</div>
								<div class="absolute right-10 top-12">
									<img src="../images/wallet-iso-color.png" />
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>

			<!-- Wallet Transactions -->
			<div class="mx-auto w-full md:w-4/5 mb-28">
				<div class="flex justify-between items-center mb-2">
					<h2 class="text-xl font-bold">Wallet Transactions</h2>

					<a class="underline underline-offset-2" href="#"> View all </a>
				</div>

				<div class="grid gap-2 mb-6 md:grid-cols-2 xl:grid-cols-4">
					<a class="relative flex items-center p-4 bg-white rounded-[20px] drop-shadow-lg" href="#">
						<div class="ml-4 p-1 mr-4 text-blue-500 bg-slate-200 rounded-full">
							<img src="../images/bag-dynamic-color.png" />
						</div>
						<div class="ml-3">
							<h5 class="text-lg font-bold tracking-tight text-gray-900">Payment</h5>
							<p class="font-normal text-gray-700">To TikTok Shop 12345</p>
						</div>
						<div class="absolute right-6 text-base font-semibold text-gray-90">
							<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
						</div>
					</a>
					<a class="relative flex items-center p-4 bg-white rounded-[20px] drop-shadow-lg" href="#">
						<div class="ml-4 p-1 mr-4 text-blue-500 bg-slate-200 rounded-full">
							<img src="../images/bag-dynamic-color.png" />
						</div>
						<div class="ml-3">
							<h5 class="text-lg font-bold tracking-tight text-gray-900">Payment</h5>
							<p class="font-normal text-gray-700">To TikTok Shop 14572</p>
						</div>
						<div class="absolute right-6 text-base font-semibold text-gray-90">
							<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
						</div>
					</a>
					<a class="relative flex items-center p-4 bg-white rounded-[20px] drop-shadow-lg" href="#">
						<div class="ml-4 p-1 mr-4 text-blue-500 bg-slate-200 rounded-full">
							<img src="../images/bag-dynamic-color.png" />
						</div>
						<div class="ml-3">
							<h5 class="text-lg font-bold tracking-tight text-gray-900">Payment</h5>
							<p class="font-normal text-gray-700">To TikTok Shop 22561</p>
						</div>
						<div class="absolute right-6 text-base font-semibold text-gray-90">
							<iconify-icon icon="ep:arrow-right-bold" width="25" height="25"></iconify-icon>
						</div>
					</a>
				</div>
			</div>

			<!-- BOTTOM NAVBAR -->
			<div class="fixed bottom-0 left-0 z-50 w-full h-16 bg-black border-t border-gray-200 ">
				<div class="grid h-full max-w-lg grid-cols-5 mx-auto font-medium">
	
					<button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-800" @click =goToSinglePage("./tiktokHome.html")>
						<svg class="w-7 h-7 mb-1  text-slate-400  group-hover:text-blue-600" aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
							<path
								d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
						</svg>
						<span class="text-xs text-slate-400   group-hover:text-blue-600">Home</span>
					</button>
					
					<button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-800" @click =goToSinglePage("./mainShopping.html")>
						<svg class="w-7 h-7 mb-1  text-slate-400 group-hover:text-blue-600"
							xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
							<path fill="currentColor"
								d="M19 6h-2c0-2.8-2.2-5-5-5S7 3.2 7 6H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-7-3c1.7 0 3 1.3 3 3H9c0-1.7 1.3-3 3-3m7 17H5V8h14v12m-7-8c-1.7 0-3-1.3-3-3H7c0 2.8 2.2 5 5 5s5-2.2 5-5h-2c0 1.7-1.3 3-3 3Z" />
						</svg>
						<span class="text-xs text-slate-400 group-hover:text-blue-600">Shopping</span>
					</button>
	
					<button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-800">
						<img src="../images/Button_Shape.png">
					</button>
	
	

						<button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-800" @click =goToSinglePage("./loginpage.html")>
							
								<svg class="w-7 h-7 mb-1  text-white group-hover:text-blue-600" aria-hidden="true"
									xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
									<path
										d="M11.074 4 8.442.408A.95.95 0 0 0 7.014.254L2.926 4h8.148ZM9 13v-1a4 4 0 0 1 4-4h6V6a1 1 0 0 0-1-1H1a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1v-2h-6a4 4 0 0 1-4-4Z" />
									<path
										d="M19 10h-6a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1Zm-4.5 3.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM12.62 4h2.78L12.539.41a1.086 1.086 0 1 0-1.7 1.352L12.62 4Z" />
								</svg>
								<span class="text-xs text-white group-hover:text-blue-600">Wallet</span>
							
						</button>
					<button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-gray-800">
						<svg class="w-7 h-7 mb-1  text-slate-400 group-hover:text-blue-600 " aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
							<path
								d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z" />
						</svg>
						<span class="text-xs text-slate-400  group-hover:text-blue-600">Profile</span>
					</button>
				</div>
			</div>
		</div>
	</div>
	<script type="module">
		import { Passage } from "https://cdn.passage.id/passage-js.js";

			window.isLoading = true;
			window.isAuthorized = false;
			window.username = "";

			(async () => {
				const psg = new Passage("E3hjWQlq03LsYPBMG1ESlWbQ");
				const user = psg.getCurrentUser();
				const userInfo = await user.userInfo();
				console.log(userInfo);
				console.log("userInfo")

				if (!userInfo) {
					window.isLoading = false;
					return;
				}

				window.username = userInfo.email;
				window.isAuthorized = false;
				window.isLoading = false;

				// try{
				//     const response = await fetch("/auth-backend", {
				//         method: 'POST',
				//         headers: {
				//             'Content-Type':  'application/json',
				//         },
				//         body: JSON.stringify({
				//             email: userInfo.email,
				//             tt_username: userInfo.user_metadata.tiktok_username,
				//             authToken: localStorage.getItem("psg_auth_token"),
				//         }),
				//     })
				//     const data = await response.json()
				//     if (data) {
				//         // backend will return session variable or smth
				//         console.log("Success: ", data)
				//         window.isAuthorized = true;
				//         window.isLoading = false;
				//     }
				// }
				// catch (error) {
				//     alert(error)
				//     window.isAuthorized = false;
				//     window.isLoading = false;
				//     // should redirect back to login page
				// }
			})();
		</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.js"></script>
</body>

<script>
	const vm = new Vue({
		el: "#main-container",

			data: {
				url: "http://localhost:4242/",
				backendURL:"http://127.0.0.1:4242/",
				userBalance: 0,
				isLoading: window.isLoading,
				isAuthorized: window.isAuthorized,
				username: window.username,
			},

			mounted: async function () {
				axios
					.get(this.backendURL + "viewTransaction/4")
					.then(response => {
						console.log(response);
					})
					.catch(error => {
						console.log(error.message);
					});

				axios
					.get(this.backendURL + "/user/4")
					.then(response => {
						this.userBalance = response["data"][0]["Wallet_Balance"];
						console.log(userBalance);
					})
					.catch(error => {
						console.log(error.message);
					});
			},
			methods: {
            	goToSinglePage: function(place){
            	    // window.location.assign("./mainShopping.html")
            	    window.location.assign(place)
            	}
        },
        created() {

        }
		});
	</script>
</html>